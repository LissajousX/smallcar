[platformio]
src_dir = .

; 默认环境：geek 固件（开发/极客版，无配网，仅 STA + 后端功能）
[env:esp32cam]
platform = espressif32
board = esp32cam
framework = arduino

board_build.partitions = partitions.csv

; 与 Arduino 工程中保持一致的摄像头型号
build_flags =
  -D CAMERA_MODEL_AI_THINKER
  -D FW_VERSION=\"${sysenv.FW_VERSION}\"

; 串口波特率（仅供串口调试使用，可选）
monitor_speed = 115200

; 依赖库（PlatformIO 会自动拉取）
lib_deps =
  bblanchon/ArduinoJson @ ^6.21.0
  links2004/WebSockets @ ^2.4.0

; 产品环境：product 固件（配网 + AP+STA + mDNS，无后端 /snapshot_to_router）
[env:esp32cam_product]
platform = espressif32
board = esp32cam
framework = arduino

board_build.partitions = partitions.csv

build_flags =
  -D CAMERA_MODEL_AI_THINKER
  -D FW_VERSION=\"${sysenv.FW_VERSION}\"
  -D SMALLCAR_FW_PRODUCT

monitor_speed = 115200

lib_deps =
  bblanchon/ArduinoJson @ ^6.21.0
  links2004/WebSockets @ ^2.4.0
